{% extends 'selia/components/list_item.html' %}
{% load selia_buttons %}
{% load i18n %}

{% block list-item-content %}
  <div class="row w-100">
    <div class="col">
      <div class="media">
        {% if item.logo %}
        <img class="mr-3 img-thumbnail" src="{{ item.logo.url }}" alt="logo">
        {% endif %}
        <div class="media-body mt-0">
          <h4 class="mt-0"><a href="{% url 'selia:collection_detail' item.name %}">{{ item.name }}</a></h4>
          {{ item.description }}
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <h6>{% trans 'Collection type' %}</h6>
        <div class="text-muted ml-4">{{ item.collection_type }}</div>
      </div>
      <div class="row">
        <h6>{% trans 'Institution' %}</h6>
        <div class="text-muted ml-4">{{ item.institution }}</div>
      </div>
      <div class="row">
        <h6>{% trans 'Created on' %}</h6>
        <div class="text-muted ml-4">{{ item.created_on }}</div>
      </div>
    </div>
    <div class="col">
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Users' %}</h6>
          <div class="text-muted ml-4">{{ item.users.count }}</div>
        </div>

      </div>
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Sites' %}</h6>
          <div class="text-muted ml-4">{{ item.sites.count }}</div>
        </div>
        {% if with_buttons|default_if_none:True %}
        <div class="col-2">
          <div class="row">
            <a href="{% url 'selia:collection_sites' item.pk %}">{% see_button %}</a>
          </div>
        </div>
        <div class="col-2">
          <a href="{% url 'selia:collection_site_create' item.pk %}"><i class="fas fa-plus"></i></a>
        </div>
        {% endif %}
      </div>
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Sampling Events' %}</h6>
          <div class="text-muted ml-4">{{ item.samplingevent_set.count }}</div>
        </div>
        {% if with_buttons|default_if_none:True %}
        <div class="col-2">
          <div class="row">
            <a href="{% url 'selia:collection_sampling_events' item.pk %}">{% see_button %}</a>
          </div>
        </div>
        <div class="col-2">
            <a href="{% url 'selia:collection_sampling_event_create' item.pk %}"><i class="fas fa-plus"></i></a>
        </div>
        {% endif %}
      </div>
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Devices' %}</h6>
          <div class="text-muted ml-4">{{ item.collectiondevice_set.count }}</div>
        </div>
        {% if with_buttons|default_if_none:True %}
        <div class="col-2">
          <div class="row">
            <a href="{% url 'selia:collection_devices' item.pk %}">{% see_button %}</a>
          </div>
        </div>
        <div class="col-2">
          <a href="{% url 'selia:collection_device_create' item.pk %}"><i class="fas fa-plus"></i></a>
        </div>
        {% endif %}
      </div>
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Items' %}</h6>
          <div class="text-muted ml-4">{{ item.items }}</div>
        </div>
        {% if with_buttons|default_if_none:True %}
        <div class="col-2">
          <div class="row">
            <a href="{% url 'selia:collection_items' item.pk %}">{% see_button %}</a>
          </div>
        </div>
        <div class="col-2">
          <a href="{% url 'selia:collection_item_create' item.pk %}"><i class="fas fa-plus"></i></a>
        </div>
        {% endif %}
      </div>
    </div>
  </div>
{% endblock list-item-content %}

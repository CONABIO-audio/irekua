{% extends 'selia/components/list_item.html' %}
{% load selia_buttons %}
{% load static %}
{% load i18n %}

{% block list-item-content %}
  <div class="row w-100">
  <div class="col">
    <div class="media">
      <div class="media-body mt-0">
        <h4 class="mt-0">
          {% trans 'Sampling event' %} {{item.pk }}
        </h4>
        <div class="text-muted"><a href="{% url 'selia:sampling_event_detail' item.pk %}">{% enter_button %}</a></div>
      </div>
    </div>
  </div>
    <div class="col">
      <div class="row">
        <h6>{% trans 'Collection' %}</h6>
        <div class="text-muted ml-4">{{ item.collection }}</div>
      </div>
      <div class="row">
        <h6>{% trans 'Collection site' %}</h6>
        <div class="text-muted ml-4"><a href="{% url 'selia:collection_site_detail' item.collection_site.pk %}">{% trans 'Site' %} {{ item.collection_site.pk }}</a></div>
      </div>
      {% if item.collection_site.site.name %}
      <div class="row">
        <h6>{% trans 'Site name' %}</h6>
        <div class="text-muted ml-4">{{ item.collection_site.site.name }}</div>
      </div>
      {% endif %}
      {% if item.collection_site.site.locality %}
      <div class="row">
        <h6>{% trans 'Site locality' %}</h6>
        <div class="text-muted ml-4">{{ item.collection_site.site.locality }}</div>
      </div>
      {% endif %}
    </div>

    <div class="col">
      <div class="row">
        <h6>{% trans 'Sampling event type' %}</h6>
        <div class="text-muted ml-4">{{ item.sampling_event_type }}</div>
      </div>
      <div class="row">
        <h6>{% trans 'Started on' %}</h6>
        <div class="text-muted ml-4">{{ item.started_on|date }}</div>
      </div>
      <div class="row">
        <h6>{% trans 'Ended on' %}</h6>
        <div class="text-muted ml-4">{{ item.ended_on|date }}</div>
      </div>
      <div class="row">
        <h6>{% trans 'Created on' %}</h6>
        <div class="text-muted ml-4">{{ item.created_on|date }}</div>
      </div>
    </div>

    <div class="col">
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Devices' %}</h6>
          <div class="text-muted ml-4">{{ item.samplingeventdevice_set.count }}</div>
        </div>
        <div class="col-2">
          <div class="row">
            <a href="{% url 'selia:sampling_event_devices' item.pk %}">{% see_button %}</a>
          </div>
        </div>
        <div class="col-2">
          <a href="{% url 'selia:create_sampling_event_device' %}?sampling_event={{ item.pk }}"><i class="fas fa-plus"></i></a>
        </div>
      </div>
      <div class="row">
        <div class="col d-flex">
          <h6>{% trans 'Items' %}</h6>
          <div class="text-muted ml-4">{{ item.items.count }}</div>
        </div>
        <div class="col-2">
          <div class="row">
            <a href="{% url 'selia:sampling_event_items' item.pk %}">{% see_button %}</a>
          </div>        </div>
        <div class="col-2">
          <a href="{% url 'selia:create_item' %}?sampling_event={{ item.pk }}"><i class="fas fa-plus"></i></a>
        </div>
      </div>
    </div>
  </div>
{% endblock list-item-content %}

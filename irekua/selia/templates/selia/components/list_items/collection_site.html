{% extends 'selia/components/list_item.html' %}
{% load static %}
{% load selia_buttons %}
{% load i18n %}

{% block list-item-content %}
<div class="row w-100">
  <div class="col">
    <div class="container h-100">
        {{ item.site.map_widget_no_controls }}
    </div>
  </div>
  <div class="col">
    <div class="media">
      <div class="media-body mt-0">
        <h4 class="mt-0">
          {% if item.site.name %}
          {{ item.site.name }}
          {% else %}
          {% trans 'Site' %} {{item.site.pk }}
          {% endif %}
        </h4>
        {% if item.site.locality %}
        <div class="text-muted">{{ item.site.locality }}</div>
        {% endif %}
        <div class="text-muted"><a href="{% url 'selia:collection_site_detail' item.pk %}">{% enter_button %}</a></div>
      </div>
    </div>
  </div>
  <div class="col">
    <div class="row">
      <h6>{% trans 'Site type' %}</h6>
      <div class="text-muted ml-4">{{ item.site_type }}</div>
    </div>
    <div class="row">
      <h6>{% trans 'Collection Site id' %}</h6>
      <div class="text-muted ml-4">{{ item.internal_id }}</div>
    </div>
  </div>
  <div class="col">
    <div class="row">
      <h6>{% trans 'Collection' %}</h6>
      <div class="text-muted ml-4">{{ item.collection }}</div>
    </div>
    <div class="row">
      <h6>{% trans 'Owner' %}</h6>
      <div class="text-muted ml-4">{{ item.site.created_by }}</div>
    </div>
    <div class="row">
      <h6>{% trans 'Added on' %}</h6>
      <div class="text-muted ml-4">{{ item.created_on }}</div>
    </div>
  </div>

  <div class="col">
    <div class="row">
      <div class="col-8 d-flex">
          <h6>{% trans 'Items' %}</h6>
          <div class="text-muted ml-4">{{ item.items.count }}</div>
      </div>
      <div class="col-1 d-flex">
          <a href="#"><i class="far fa-eye"></i></a>
      </div>
      <div class="col-1 d-flex">
          <a href="#"><i class="fas fa-plus"></i></a>
      </div>
    </div>
    <div class="row">
      <div class="col-8 d-flex">
          <h6>{% trans 'Sampling events' %}</h6>
          <div class="text-muted ml-4">{{ item.samplingevent_set.count }}</div>
      </div>
      <div class="col-1 d-flex">
          <a href="#"><i class="far fa-eye"></i></a>
      </div>
      <div class="col-1 d-flex">
          <a href="#"><i class="fas fa-plus"></i></a>
      </div>
    </div>
  </div>
</div>
{% endblock list-item-content %}

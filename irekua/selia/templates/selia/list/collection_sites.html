{% extends 'selia/list/base.html' %}

{% load i18n %}
{% load selia_components %}
{% load selia_buttons %}

{% block secondary-navbar %}
  {% include 'selia/navbars/collection.html' %}
{% endblock secondary-navbar %}

{% block head-extra %}
  {% include 'selia/components/media/map_media.html' %}
{% endblock head-extra %}

{% block toolbar-title %}{{ collection }}: {% trans 'Sites' %}{% endblock %}

{% block toolbar-items %}
  <li class="nav-item">
    <a class="nav-link" href="{% url 'selia:create_collection_site' %}?collection={{ collection.pk }}">{% trans 'Add Site' %} <i class="fas fa-plus"></i> <i class="fas fa-map-marked-alt"></i></a>
  </li>
  <li class="nav-item">
    {% help_button %}
  </li>
{% endblock toolbar-items %}

{% block main-content %}
  <div class="container-fluid w-100 p-0">
    {% filter_component filter_template=filter_form_template filter=filter %}
  </div>

  {% if show_map %}
  <div class="container">
    {{ sites_map }}
  </div>
  {% else %}
  {% list_component template_name=list_item_template item_list=object_list empty_message=empty_message %}
  {% endif %}
{% endblock main-content %}

{% block modals-extra %}
  {% help_component help_template=help_template %}
{% endblock modals-extra %}
